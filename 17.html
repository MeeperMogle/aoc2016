<script src="http://www.myersdaily.org/joseph/javascript/md5.js"></script>
<script>
    const sampleInput = 'hijkl';

    const inputToUse = sampleInput;

    let pathThusFar = ''; // append UDLR

    const width = 4;
    const height = 4;

    let currentX = 0;
    let currentY = 0;

    function doorStatusHash(input, pathString) {
        return md5(input + pathString);
    }

    function doorIsOpen(character) {
        const char = character.toLowerCase();
        return char !== 'a' && !Number.isInteger(parseInt(character));
    }

    function statusUpDownLeftRightOpen(statusHash) {
        // Up, down, left, right
        const statusCharacters = statusHash.substr(0, 4);
        return {
            up: doorIsOpen(statusCharacters[0]),
            down: doorIsOpen(statusCharacters[1]),
            left: doorIsOpen(statusCharacters[2]),
            right: doorIsOpen(statusCharacters[3]),
        };
    }

    function canWalkDirections(openDoorsStatus) {
        const validDirections = {
            total: 0,
        };

        Object.keys(openDoorsStatus).forEach(direction => {
            console.log('direction:', direction);
            // Direction only valid if inside maze
            if (
                currentX == 0 && direction === 'left' ||
                currentX === width && direction === 'right' ||
                currentY === 0 && direction === 'up' ||
                currentY === height && direction === 'down'
            ) {
                validDirections[direction] = false;
            } else {
                if (openDoorsStatus[direction]) {
                    validDirections.total++;
                }
                validDirections[direction] = openDoorsStatus[direction];
            }
        });

        return validDirections;
    }

    const currentStatusHash = doorStatusHash(inputToUse, pathThusFar);
    const openDoorsStatus = statusUpDownLeftRightOpen(currentStatusHash);
    const validDirections = canWalkDirections(openDoorsStatus);

    console.log('currentStatusHash:', currentStatusHash);
    console.log('openDoorsStatus:', openDoorsStatus);
    console.log('validDirections:', validDirections);

</script>
