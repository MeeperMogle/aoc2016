<script>
    const sampleInput = 5;
    const input1 = 3005290;

    const inputToUse = input1;

    const presentsAtPosition = [];
    for (let i = 0; i < inputToUse; i++) {
        presentsAtPosition[i] = 1;
    }

    function takePresents(positionOneBased) {
        const wouldBePosition = parseInt(positionOneBased - 1);
        const position = wouldBePosition >= presentsAtPosition.length ? 0 : wouldBePosition;

        if (presentsAtPosition[position] === 0) {
            console.log(`Elf ${positionOneBased} has no presents and is skipped.`);
            takePresents(position + 2);
        } else {
            let shallTakeFrom = position + 1 >= presentsAtPosition.length ? 0 : position + 1;

            while (presentsAtPosition[shallTakeFrom] === 0) {
                shallTakeFrom = shallTakeFrom + 1 === presentsAtPosition.length ? 0 : shallTakeFrom + 1;
            }

            if (shallTakeFrom === position) {
                console.log('That\'s the game! Elf ' + positionOneBased + ' won!');
            } else {
                console.log(`Elf ${positionOneBased} takes Elf ${shallTakeFrom + 1}'s presents.`);
                presentsAtPosition[shallTakeFrom] = 0;
                takePresents(position + 2 >= presentsAtPosition.length ? 1 : position + 2);
            }
        }
    }

    takePresents(1);

</script>
